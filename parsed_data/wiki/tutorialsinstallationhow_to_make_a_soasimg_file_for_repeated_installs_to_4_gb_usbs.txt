Title: Tutorials/Installation/How to make a SoaS.img file for repeated installs to 4 GB USB's
URL: https://wiki.sugarlabs.org/go/Tutorials/Installation/How_to_make_a_SoaS.img_file_for_repeated_installs_to_4_GB_USB%27s
--------------------------------------------------------------------------------
Contents
1
How to make a SoaS.img file for repeated installs to 4 GB USB's
1.1
write dd 4 GB USB with netinstall
1.2
Boot netinstall USB
1.3
Installation Destination
1.4
Software selection
1.5
Make a USB .img file of USB prior to running it
1.6
Alternative: Download a prebuilt USB.img
1.6.1
Download a Soas_8.img file
1.6.2
Download a Soas_8_litd.img file
1.7
Write to new USB
1.7.1
Examples
1.8
Repeat this command for each new SoaS USB
1.9
More Tutorials
How to make a SoaS.img file for repeated installs to 4 GB USB's
updated 01/19/;2013
These are full installs of Sugar-Desktop
This is a workaround for the fact that f18 SoaS live.iso's do not install to USB or HD with "liveinst"
This procedure yields fully installed ext4 filesystem on / (root) of the USB
write dd 4 GB USB with netinstall
Download
http://alt.fedoraproject.org/pub/fedora/linux/releases/18/Fedora/x86_64/iso/Fedora-18-x86_64-netinst.iso
Write netinstall USB
dd if=Fedora-18-x86_64-netinst.iso of=/dev/sdb bs=2M
Boot netinstall USB
look at this tutorial for installer information and guide
Tutorial describes features of the f18 anaconda installer
Wait for Download and error checking of default software to finish
Installation Destination
select 2nd 4 GB USB (not the one you booted from)
  [continue]
  Select the Partitioning type first
  Partition scheme: Standard Partition
  [+]"I don't not need help: Let me customize disk partitioning"  
  add partition: / 3.6 GB
  [Reclaim space]
Software selection
select sugar-desktop from left list (scroll down if necessary)
[Back]
Finish install as shown in tutorial
Make a USB .img file of USB prior to running it
(firstboot will not have been run)
dd if=/dev/sdc of=Soas_8.img bs=2M
[root@localhost Desktop]# dd if=/dev/sdc of=Soas_8.img bs=2M
1912+0 records in
1912+0 records out
4009754624 bytes (4.0 GB) copied, 207.237 s, 19.3 MB/s
[root@localhost Desktop]#
Alternative: Download a prebuilt USB.img
Download a Soas_8.img file
For a 4 GB USB
http://people.sugarlabs.org/Tgillard/Soas_8.img
3.7G
Full netinstall of Sugar-desktop to a ext4 / on 4 Gb USB
Download a Soas_8_litd.img file
For a 2 GB USB
http://people.sugarlabs.org/Tgillard/Soas_8_litd.img
1.9G
Built with
livecd-iso-to-disk
Transcript:
http://people.sugarlabs.org/Tgillard/Li-t-d-Soas-8.txt
persistence - overlay 500 mb /home 500 mb
This will not be as rugged as the above 4 GB .img and will fill up eventually
Persistence tested after download and dd write to another USB 01/20/2013 tg
Write to new USB
This command can be repeated for multiple USB's
In root terminal:
dd if=Soas_8.img of=/dev/sd(x)* bs=2M
or
dd if=Soas_8_litd.img of=/dev/sd(x)* bs=2M
of=/dev/sd(x)* = find USB device name with "mount" command
Examples
Successful copy
[root@localhost Desktop]# dd if=Soas_8.img of=/dev/sdc bs=2M  
1912+0 records in
1912+0 records out
4009754624 bytes (4.0 GB) copied, 587.133 s, 6.8 MB/s
[root@localhost Desktop]#
Repeat this command for each new SoaS USB
NOTE: You can use gparted to shrink the ext4 partition on the USB
yum install gparted
This will allow use of smaller 4 GB USB's
Case of using a smaller 4 GB USB
Successful in spite of error message
This seems to be true in tests on smaller 4 GB USB's
dd: writing ‘/dev/sdc’: No space left on device
1851+0 records in
1850+0 records out
3880452096 bytes (3.9 GB) copied, 676.209 s, 5.7 MB/s
[root@localhost Desktop]#
More Tutorials